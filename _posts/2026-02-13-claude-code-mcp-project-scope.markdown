---
layout: post
title: "[Claude Code] MCP 서버, 프로젝트별로 관리하기"
date: 2026-02-13 14:00:00 +0900
categories: ai
---

MCP 서버는 세션이 시작될 때 연결된 서버의 **도구 정의를 전부 로드**해. MCP 하나당 대략 ~8,000토큰을 차지하고, 3개면 24,000토큰이야. 문제는 그 MCP가 필요 없는 프로젝트에서도 매번 로드된다는 거야. 토큰 낭비지.

해결 방법은 간단해. `--scope project`로 **필요한 프로젝트에서만** MCP를 연결하면 돼.

MCP가 뭔지 모르겠으면 [이전 글](/ai/2026/02/06/claude-code-extensions.html)을 먼저 보고 와.

## 글로벌 vs 프로젝트 스코프

모든 공구를 매일 전부 들고 다니면 무겁잖아. 현장에 필요한 공구만 두는 게 낫지. MCP도 마찬가지야.

| | `--scope user` (글로벌) | `--scope project` (프로젝트) |
|---|---|---|
| **적용 범위** | 모든 프로젝트 | 해당 프로젝트만 |
| **설정 파일** | `~/.claude/settings.json` | 프로젝트 루트 `.mcp.json` |
| **토큰 비용** | 항상 로드 | 해당 프로젝트에서만 로드 |
| **팀 공유** | 안 됨 (내 로컬) | `.mcp.json` 커밋하면 가능 |

## 설정하는 법

2단계면 끝나.

**1. 프로젝트 폴더로 이동**

```bash
cd /path/to/my-project
```

**2. MCP 서버 추가**

```bash
claude mcp add <서버이름> --scope project -- <실행명령> <인자들>
```

예를 들어 `my-db`라는 MCP 서버를 추가한다면:

```bash
claude mcp add my-db --scope project -- npx -y @example/mcp-server --db my-database
```

각 부분이 하는 일:

- **`my-db`** — 이 MCP 서버의 이름. 나중에 확인/삭제할 때 쓰는 식별자야
- **`--scope project`** — 이 프로젝트에서만 연결하겠다는 뜻
- **`--`** — 여기서부터는 MCP 서버를 실행하는 명령어라는 구분자
- **나머지** — 실제 MCP 서버를 실행하는 명령어와 인자들

실행하면 프로젝트 루트에 **`.mcp.json`** 파일이 생겨. 이 파일을 커밋하면 팀원들도 같은 MCP 설정을 쓸 수 있어.

## 확인과 삭제

**연결된 MCP 목록 확인:**

```bash
claude mcp list
```

**MCP 서버 제거:**

```bash
claude mcp remove my-db
```

**세션 안에서 토큰 사용량 확인:**

세션 중에 `/mcp`를 입력하면 각 MCP 서버가 얼마나 토큰을 쓰고 있는지 볼 수 있어.

## 언제 프로젝트 스코프를 쓸까

**프로젝트 스코프가 좋은 경우:**

- 특정 프로젝트의 DB에 연결하는 MCP
- 특정 프로젝트에서만 쓰는 API 클라이언트
- 팀 전용 도구 (`.mcp.json` 커밋으로 공유)

**글로벌이 괜찮은 경우:**

- 거의 모든 프로젝트에서 쓰는 범용 MCP (예: 웹 검색, 파일 시스템)
- 개인 생산성 도구

기준은 간단해. **"이 MCP를 다른 프로젝트에서도 쓸까?"** 아니면 프로젝트 스코프, 맞으면 글로벌.

---

명령어 하나로 추가하고, 하나로 제거해. 안 쓰는 MCP가 토큰을 잡아먹는 걸 방지하는 가장 쉬운 방법이야.
