---
layout: post
title: "Claude Code 확장하기"
date: 2026-02-06
categories: ai
---

[이전 글](/ai/2026/02/06/claude-code-for-kids.html)에서 Claude Code가 어떻게 작동하는지 알아봤어. 이번에는 Claude Code의 **능력을 더 키워주는 확장 기능**들을 알아볼 거야.

Claude Code에는 파일을 읽고, 고치고, 검색하고, 명령어를 실행하는 기본 도구가 있어. 하지만 더 많은 걸 할 수 있도록 **확장 기능**을 추가할 수 있어. 레고 블록을 더 끼워서 더 멋진 걸 만드는 것처럼.

## 확장 기능 한눈에 보기

| 기능 | 뭐하는 거야? | 언제 써? | 예시 |
|------|------------|--------|------|
| **CLAUDE.md** | Claude가 매번 읽는 메모장 | 항상 지켜야 할 규칙 | "npm 대신 pnpm을 써. 커밋 전에 테스트 돌려." |
| **Skills** | 필요할 때 꺼내 쓰는 지식과 워크플로우 | 반복되는 작업, 참고 자료 | `/review`로 코드 리뷰 체크리스트 실행 |
| **Subagents** | 일을 나눠서 하는 작은 도우미들 | 큰 작업을 쪼개서 할 때 | 파일 100개를 조사하고 결과만 보고 |
| **Agent Teams** | 여러 Claude가 팀으로 협력 | 복잡한 작업을 동시에 할 때 | 보안, 성능, 테스트를 동시에 검토 |
| **MCP** | 외부 서비스에 연결하는 플러그인 | 외부 데이터나 서비스가 필요할 때 | 데이터베이스 쿼리, Slack에 메시지 보내기 |
| **Hooks** | 자동으로 실행되는 스크립트 | 매번 반복되는 자동화 | 파일 수정할 때마다 자동으로 코드 정리 |

**Plugins**는 이런 기능들을 하나로 묶어서 다른 사람과 공유할 수 있게 해주는 포장 상자야. **Marketplace**에서 다른 사람이 만든 플러그인을 받아 쓸 수도 있어.

## 각 기능을 자세히 알아보자

### CLAUDE.md — 항상 읽는 메모장

CLAUDE.md는 Claude가 **매번 대화를 시작할 때** 자동으로 읽는 파일이야. 프로젝트의 규칙, 코딩 스타일, "이건 하지 마" 같은 것들을 적어두면 Claude가 알아서 지켜줘.

선생님이 교실에 붙여놓는 "우리반 규칙" 같은 거야.

- 매 세션마다 자동으로 로드돼
- "항상 X를 해줘" 같은 규칙에 적합해
- 500줄 이하로 유지하는 게 좋아. 너무 길면 Claude가 헷갈릴 수 있어

### Skills — 필요할 때 꺼내 쓰는 도구

Skills는 Claude에게 **새로운 지식이나 작업 방법**을 가르쳐주는 마크다운 파일이야. 두 종류가 있어:

- **참조용 Skill**: API 스타일 가이드처럼 Claude가 필요할 때 참고하는 지식
- **작업용 Skill**: `/deploy`처럼 슬래시 명령으로 실행하는 워크플로우

Claude가 알아서 적절한 Skill을 골라 쓰기도 하고, `/이름`으로 직접 불러올 수도 있어.

평소에는 Skill의 **설명만** 보이고, 실제로 쓸 때만 전체 내용이 로드돼. 그래서 공간을 적게 차지해. `disable-model-invocation: true`를 설정하면 네가 직접 부를 때까지 아예 안 보이게 할 수도 있어.

### Subagents — 일을 나눠서 하는 작은 도우미

Subagent는 Claude가 만들어내는 **작은 도우미**야. 메인 대화와 **완전히 분리된** 자기만의 작업 공간을 가져.

100개의 파일을 조사해야 한다고 생각해봐. 메인 Claude가 직접 하면 작업 공간이 꽉 차버려. 대신 Subagent한테 시키면:

1. Subagent가 자기 공간에서 100개 파일을 읽어
2. 중요한 내용만 정리해서 **요약**을 돌려줘
3. 메인 대화는 깔끔하게 유지돼

큰 일을 작은 조각으로 나눠서 여러 명한테 맡기는 것과 같아.

### Agent Teams — 여러 Claude가 팀으로 협력

Agent Teams는 Subagent의 업그레이드 버전이야. **여러 Claude가 독립적으로 일하면서 서로 대화**할 수 있어.

Subagent는 메인 Claude한테만 보고하지만, Agent Team의 멤버들은 **서로** 메시지를 주고받을 수 있어. 마치 팀 프로젝트에서 팀원끼리 의논하는 것처럼.

| | Subagent | Agent Team |
|---|----------|------------|
| 대화 상대 | 메인 Claude한테만 보고 | 팀원끼리 서로 대화 |
| 조정 방식 | 메인 Claude가 관리 | 팀이 자체적으로 조정 |
| 적합한 작업 | 결과만 중요한 집중된 작업 | 토론과 협업이 필요한 복잡한 작업 |
| 비용 | 낮음 (요약만 반환) | 높음 (각 멤버가 별도 Claude) |

예를 들어 코드 리뷰를 할 때, 보안 담당, 성능 담당, 테스트 담당 Agent를 만들어서 **동시에** 검토하게 할 수 있어.

### MCP — 외부 세계와 연결

MCP(Model Context Protocol)는 Claude를 **외부 서비스에 연결하는 플러그인**이야. MCP 없이는 Claude가 데이터베이스를 조회하거나 Slack에 메시지를 보낼 수 없어.

- 데이터베이스에서 데이터 가져오기
- Slack이나 이메일에 메시지 보내기
- 브라우저 제어하기

MCP는 Claude에게 **능력**을 주고, Skills는 그 능력을 **잘 쓰는 방법**을 알려줘. 예를 들어:
- MCP가 데이터베이스에 연결해줘
- Skill이 "이 테이블은 이런 구조고, 이렇게 쿼리해"라고 알려줘

세션 시작할 때 연결된 MCP 서버의 도구 정의가 전부 로드돼. `/mcp`로 어떤 서버가 얼마나 공간을 차지하는지 확인할 수 있어.

### Hooks — 자동으로 실행되는 스크립트

Hooks는 **특정 상황이 되면 자동으로 실행되는 스크립트**야. Claude가 판단하는 게 아니라, 정해진 규칙대로 무조건 실행돼.

예를 들어:
- 파일을 수정할 때마다 → 자동으로 ESLint(코드 정리 도구) 실행
- 중요한 파일이 바뀌면 → Slack에 알림 보내기

Hooks는 Claude의 작업 공간을 전혀 차지하지 않아. 바깥에서 실행되니까. 매번 똑같이 반복되는 작업에 딱이야.

## 기능들이 쌓이는 순서

같은 기능을 여러 곳에서 정의하면 어떻게 될까?

- **CLAUDE.md**: 전부 합쳐져. 프로젝트, 사용자, 하위 폴더의 CLAUDE.md가 다 같이 적용돼. 더 구체적인 규칙이 우선이야.
- **Skills과 Subagents**: 같은 이름이면 하나만 이겨. 관리자 설정 > 사용자 설정 > 프로젝트 설정 순서야.
- **MCP 서버**: 같은 이름이면 로컬 > 프로젝트 > 사용자 순서야.
- **Hooks**: 전부 실행돼. 어디서 등록했든 조건이 맞으면 다 실행해.

## 기능을 조합하면 더 강력해

각 기능은 혼자서도 유용하지만, **조합하면 더 강력**해져:

| 조합 | 어떻게 작동해? | 예시 |
|------|-------------|------|
| Skill + MCP | MCP가 연결하고, Skill이 잘 쓰는 법을 알려줘 | MCP로 DB 연결 + Skill로 스키마와 쿼리 패턴 문서화 |
| Skill + Subagent | Skill이 Subagent를 만들어서 병렬 작업 | `/review`가 보안·성능·스타일 Subagent 3개를 동시에 실행 |
| CLAUDE.md + Skills | CLAUDE.md는 규칙, Skill은 상세 참고자료 | CLAUDE.md: "API 규칙 따라" + Skill: 전체 API 가이드 |
| Hook + MCP | Hook이 MCP를 통해 외부 작업 실행 | 중요 파일 수정 시 Slack 알림 자동 발송 |

## 컨텍스트 비용 — 공간을 얼마나 차지할까?

Claude에게는 "컨텍스트 윈도우"라는 작업 공간이 있어. 확장 기능을 추가하면 이 공간을 차지해. 너무 많이 추가하면 공간이 부족해지거나, Claude가 혼란스러워질 수 있어.

| 기능 | 언제 로드돼? | 공간 비용 |
|------|-----------|---------|
| CLAUDE.md | 세션 시작 | 매 요청마다 차지 |
| Skills | 설명은 시작 시, 전체 내용은 사용 시 | 사용 전까지 낮음 |
| MCP 서버 | 세션 시작 | 매 요청마다 차지 |
| Subagents | 만들 때 | 메인 세션에서 격리 (0) |
| Hooks | 실행될 때 | 0 (바깥에서 실행) |

공간을 아끼는 팁:
- **CLAUDE.md**는 500줄 이하로. 상세 참고자료는 Skill로 옮겨
- **Skills**에 `disable-model-invocation: true`를 설정하면 부를 때까지 공간 0
- **Subagents**는 메인 공간을 안 써서 긴 세션에서 유용해
- **Hooks**는 공간을 전혀 안 써
- `/mcp`로 MCP 서버가 차지하는 공간을 확인하고, 안 쓰는 건 끊어

## CLAUDE.md vs Skill, 뭘 써야 해?

| | CLAUDE.md | Skill |
|---|-----------|-------|
| 로드 시점 | 매 세션, 자동 | 필요할 때만 |
| 워크플로우 실행 | 안 돼 | `/이름`으로 가능 |
| 적합한 것 | "항상 이렇게 해" 규칙 | 참고자료, 반복 작업 |

**규칙:** Claude가 **항상** 알아야 하면 → CLAUDE.md
**규칙:** **가끔** 필요하거나 명령으로 실행하면 → Skill

## Skill vs Subagent, 뭘 써야 해?

| | Skill | Subagent |
|---|-------|----------|
| 정의 | 재사용 가능한 지식/워크플로우 | 자기 공간을 가진 격리된 도우미 |
| 핵심 장점 | 여러 곳에서 같은 내용 공유 | 메인 공간을 안 먹음 |
| 적합한 것 | 참고자료, 호출형 워크플로우 | 파일 많이 읽는 작업, 병렬 작업 |

둘을 **합쳐 쓸 수도** 있어. Subagent한테 특정 Skill을 미리 로드시켜서 보내면, 그 지식을 가지고 작업해.

## MCP vs Skill, 뭘 써야 해?

| | MCP | Skill |
|---|-----|-------|
| 제공하는 것 | 도구와 데이터 접근 | 지식과 워크플로우 |
| 역할 | 외부 시스템과 상호작용하는 **능력** | 그 능력을 **잘 쓰는 방법** |

MCP는 Claude에게 손을 주고, Skill은 Claude에게 사용 설명서를 주는 거야. 둘 다 있으면 Claude가 외부 서비스를 **제대로** 활용할 수 있어.

## 정리하면

- **CLAUDE.md** — 매번 자동으로 읽는 프로젝트 규칙. 항상 지켜야 할 것만 적어.
- **Skills** — 필요할 때 꺼내 쓰는 지식과 워크플로우. `/이름`으로 실행.
- **Subagents** — 별도 공간에서 일하는 도우미. 큰 작업을 나눠서 해.
- **Agent Teams** — 여러 Claude가 팀으로 협력. 서로 대화하며 복잡한 작업 해결.
- **MCP** — 외부 서비스 연결. DB, Slack, 브라우저 등.
- **Hooks** — 자동 실행 스크립트. 공간 0, 반복 자동화에 적합.
- **Plugins** — 기능들을 묶어서 공유하는 포장 상자.

처음엔 **CLAUDE.md**만으로 충분해. 필요한 것이 생기면 하나씩 추가하면 돼. 한꺼번에 다 쓸 필요 없어!
