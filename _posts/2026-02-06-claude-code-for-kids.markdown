---
layout: post
title: "[Claude Code] 작동 방식"
date: 2026-02-06 16:00:00 +0900
categories: ai
---

컴퓨터로 프로그램을 만드는 걸 "코딩"이라고 해. 그런데 코딩은 꽤 어려워. 영어로 된 명령어를 하나하나 타이핑해야 하거든. 그래서 Anthropic이라는 회사가 **Claude Code**라는 도우미를 만들었어.

쉽게 말하면, Claude Code는 **코딩을 도와주는 AI 친구**야. 코딩뿐만 아니라 문서 작성, 파일 검색, 인터넷 조사 같은 것도 다 도와줄 수 있어.

## Claude Code는 어디서 쓰는 거야?

컴퓨터에는 "터미널"이라는 까만 화면이 있어. 마우스 대신 글자를 입력해서 컴퓨터한테 명령하는 곳이야. Claude Code는 바로 이 터미널에서 작동해. VS Code나 JetBrains 같은 코딩 프로그램 안에서도 쓸 수 있어.

터미널에서 `claude`라고 치면 Claude가 나타나서 "뭐 도와줄까?"하고 기다려.

## 에이전트 루프 — Claude Code는 어떻게 일해?

Claude에게 "이거 고쳐줘"라고 부탁하면, 세 단계로 일해.

**1단계. 문맥 파악 (살펴보기)** — 먼저 관련된 파일들을 찾아서 읽어봐. 마치 숙제하기 전에 교과서를 펼치는 것처럼.

**2단계. 작업 수행 (고치기)** — 코드를 고치거나, 새로 쓰거나, 명령어를 실행해. 연필로 답을 쓰는 것과 같아.

**3단계. 결과 검증 (확인하기)** — 고친 게 제대로 되는지 테스트해봐. 답을 쓴 다음에 검산하는 것처럼.

이 세 단계를 **빙글빙글 반복**해. 한 번에 안 되면 다시 살펴보고, 다시 고치고, 다시 확인해. 될 때까지. 이걸 **"에이전트 루프"**라고 불러.

![Claude Code 에이전트 루프](/assets/images/agentic-loop-kr.jpeg)

그리고 중요한 건, **너도 이 루프의 일부**라는 거야. Claude가 일하는 중간에 언제든 멈추고 "아니, 그 방향이 아니야"라고 말하거나, 추가 정보를 줄 수 있어. Claude는 혼자 일하지만 네 말을 항상 듣고 있어.

### 모델 — Claude의 두뇌

Claude Code 안에는 "모델"이라는 두뇌가 있어. 이 두뇌가 코드를 읽고 이해하고, 어떻게 고칠지 생각해.

두뇌 종류가 여러 개 있어:
- **Sonnet** — 대부분의 코딩 작업에 충분해. 빠르고 똑똑해.
- **Opus** — 아주 복잡한 문제를 풀 때 쓰는 더 강력한 두뇌야.

대화 중에 `/model`이라고 치면 두뇌를 바꿀 수 있어. 처음 시작할 때 `claude --model sonnet`처럼 지정할 수도 있고.

### 도구 — Claude의 연필과 돋보기

도구가 있어야 Claude가 **직접 행동**할 수 있어. 도구가 없으면 대답만 할 수 있지만, 도구가 있으니까 실제로 코드를 바꿀 수 있는 거야.

| 종류 | 하는 일 |
|------|---------|
| 파일 작업 | 파일을 읽고, 코드를 수정하고, 새 파일을 만들고, 이름을 바꿔 |
| 검색 | 패턴으로 파일을 찾고, 코드 안에서 원하는 내용을 검색해 |
| 실행 | 터미널 명령어를 실행하고, 테스트를 돌리고, git을 써 |
| 웹 | 인터넷에서 검색하고, 문서를 가져오고, 에러 메시지를 찾아봐 |
| 코드 인텔리전스 | 타입 에러를 확인하고, 함수 정의를 찾아가 |

Claude는 상황에 맞는 도구를 **스스로 골라서** 써. 예를 들어 "실패한 테스트를 고쳐줘"라고 하면, Claude는 이런 순서로 일해:

1. 테스트를 실행해서 뭐가 실패했는지 확인
2. 에러 메시지를 읽어봐
3. 관련된 코드 파일을 검색
4. 그 파일을 읽어서 코드를 이해
5. 파일을 수정해서 문제를 고침
6. 테스트를 다시 실행해서 진짜 고쳐졌는지 확인

### 확장 기능 — 능력을 더 키워주는 것들

기본 도구 외에도 Claude의 능력을 더 키워줄 수 있어:

- **Skills** — Claude에게 새로운 지식을 가르쳐주는 거야. 필요할 때만 불러서 쓸 수 있어.
- **MCP** — 외부 서비스(데이터베이스, API 등)에 연결하는 플러그인이야.
- **Hooks** — 특정 상황에서 자동으로 실행되는 명령어야. 파일을 저장할 때마다 자동으로 포맷팅하는 것처럼.
- **Subagents** — Claude가 작은 도우미를 만들어서 일을 나눠줘. 큰 일을 여러 명이 나눠하는 것과 같아.

## Claude가 접근할 수 있는 것들

터미널에서 `claude`를 실행하면, Claude는 이런 것들에 접근할 수 있어:

- **프로젝트 파일** — 현재 폴더와 그 안의 모든 파일을 볼 수 있어.
- **터미널** — 명령줄에서 할 수 있는 건 Claude도 다 할 수 있어. 빌드, 테스트, 패키지 설치 등.
- **git 상태** — 지금 어떤 브랜치에 있는지, 뭘 바꿨는지, 최근 커밋 기록을 볼 수 있어.
- **CLAUDE.md** — 프로젝트 규칙을 적어둔 메모장.
- **확장 기능** — MCP 서버, Skills, Subagents 등 네가 설정한 것들.

일반적인 코드 도우미는 지금 열려있는 파일 하나만 보지만, Claude Code는 **프로젝트 전체**를 볼 수 있어. 그래서 "인증 버그를 고쳐줘"라고 하면, 관련 파일을 직접 찾아서 여러 파일에 걸쳐서 수정할 수 있는 거야.

## 세션으로 작업하기

Claude Code는 대화 내용을 컴퓨터에 저장해. 네가 보낸 메시지, Claude가 사용한 도구, 그 결과까지 전부. 덕분에 되돌리기도 되고, 이어서 대화하기도 돼.

**중요한 점:** Claude는 **세션 사이에 기억이 없어.** 새 대화를 시작하면 지난번에 뭘 했는지 전혀 몰라. 매번 처음부터 시작하는 거야. Claude가 계속 기억하게 하고 싶으면 CLAUDE.md에 적어둬야 해.

### 브랜치 간에 작업하기

git에서 브랜치를 바꾸면, Claude는 새 브랜치의 파일을 봐. 하지만 대화 기록은 그대로 남아 있어. 아까 이야기한 내용은 기억하고 있다는 뜻이야.

같은 프로젝트에서 여러 브랜치를 동시에 작업하고 싶으면, **git worktrees**를 써서 브랜치마다 별도 폴더를 만들고, 각 폴더에서 Claude를 따로 실행할 수 있어.

### 대화를 이어가거나 새로 시작하거나

Claude와 대화하다가 터미널을 닫아도 대화 내용은 저장돼. `claude --continue`라고 치면 아까 하던 대화를 이어갈 수 있어. 마치 책갈피를 끼워둔 것처럼. `claude --resume`으로도 가능해.

그리고 `claude --continue --fork-session`이라고 치면, 지금까지의 대화를 복사해서 새로운 대화를 시작할 수 있어. 원래 대화는 그대로 남아있고, 새 대화에서 다른 방법을 시도해볼 수 있지.

![세션 연속성](/assets/images/session-continuity-kr.jpeg)

**여러 터미널에서 같은 세션을 열면?** 두 터미널의 메시지가 섞여버려. 마치 두 사람이 같은 노트에 동시에 쓰는 것처럼. 안 망가지긴 하지만 대화가 뒤섞여. 이럴 때는 `--fork-session`으로 각 터미널에 따로 세션을 만들어줘.

### 컨텍스트 윈도우 — Claude의 작업 기억 공간

Claude에게는 "컨텍스트 윈도우"라는 작업 공간이 있어. 책상 위에 올려놓을 수 있는 종이의 양이 정해져 있다고 생각하면 돼. 대화 기록, 파일 내용, 명령어 결과, CLAUDE.md, Skills 정보 등이 다 이 책상 위에 올라가.

작업하다 보면 책상이 가득 차. 그러면 Claude가 **자동으로 정리**해. 오래된 도구 출력을 치우고, 필요하면 대화를 요약해. 네 요청과 중요한 코드 조각은 남기지만, 대화 초반의 세부 지시사항은 사라질 수 있어.

그래서 **계속 지켜야 할 규칙은 CLAUDE.md에 적어두는 게 좋아.** 대화 안에서만 말하면 나중에 잊어버릴 수 있거든.

- `/context` — 지금 작업 공간을 뭐가 차지하고 있는지 확인
- `/compact` — 대화를 압축해서 공간 확보. `/compact API 변경에 집중해줘`처럼 초점을 지정할 수도 있어
- `/mcp` — MCP 서버가 얼마나 공간을 차지하는지 확인

**Skills와 Subagents로 공간 아끼기:**
- Skills은 필요할 때만 불러와. 평소에는 설명만 보이고, 실제로 쓸 때만 전체 내용이 로드돼.
- Subagents는 아예 **별도의 작업 공간**을 가져. 메인 대화의 공간을 안 먹어. 작업이 끝나면 요약만 돌려줘. 그래서 긴 세션에서 특히 유용해.

## 체크포인트와 권한 — 안전하게 작업하기

Claude에는 두 가지 안전장치가 있어. **체크포인트**는 실수를 되돌리는 것, **권한**은 Claude가 할 수 있는 것을 제한하는 거야.

### 체크포인트로 되돌리기

Claude가 파일을 고치기 전에 원래 모습을 저장해둬. 게임에서 세이브 포인트를 만드는 것처럼. 그래서 Claude가 실수하면 **Esc 키를 두 번** 누르면 원래대로 돌아갈 수 있어. Claude에게 "취소해줘"라고 말해도 돼.

체크포인트는 **파일 변경만** 되돌릴 수 있어. 데이터베이스에 뭔가를 보냈거나, API를 호출한 건 되돌릴 수 없어. 그래서 Claude는 이런 외부에 영향을 주는 명령은 실행하기 전에 꼭 물어봐.

### Claude가 할 수 있는 것 제어하기

`Shift+Tab`을 누르면 권한 모드를 바꿀 수 있어:

- **기본값** — Claude가 파일을 고치거나 명령을 실행하기 전에 매번 물어봐.
- **자동 수락 편집** — 파일은 맘대로 고치지만, 명령 실행은 물어봐.
- **Plan Mode** — 읽기만 하고 아무것도 안 고쳐. 계획만 세워줘. 네가 확인한 다음에 실행해.

`.claude/settings.json` 파일에서 `npm test`나 `git status` 같은 **믿을 수 있는 명령어**를 미리 허용해두면, Claude가 매번 안 물어보고 바로 실행해.

## CLAUDE.md — Claude한테 주는 메모장

Claude는 새로 대화를 시작하면 지난번에 뭘 했는지 기억 못 해. 매번 새로 시작하는 거야.

그런데 매번 같은 걸 설명하면 귀찮잖아? 그래서 **CLAUDE.md**라는 파일에 "우리 프로젝트는 이렇고, 이런 규칙이 있어"라고 적어두면 Claude가 매번 그걸 읽고 시작해.

선생님한테 주는 알림장 같은 거야.

## Claude Code와 효과적으로 일하는 방법

### Claude Code에게 도움을 요청해

Claude Code는 자기 사용법도 알려줄 수 있어. "hooks를 어떻게 설정해?"라고 물어보면 설명해줘.

내장 명령어도 있어:
- `/init` — 프로젝트를 위한 CLAUDE.md 만들기를 도와줘
- `/agents` — 나만의 Subagents를 설정해줘
- `/doctor` — 설치에 문제가 있는지 진단해줘

### 대화하듯이 쓰면 돼

Claude Code한테는 완벽한 문장으로 말할 필요가 없어. 그냥 친구한테 말하듯이 하면 돼.

처음에 "로그인이 안 돼"라고 하면, Claude가 이것저것 살펴볼 거야. 그런데 엉뚱한 방향으로 가면 "아니, 그게 아니라 비밀번호 부분을 봐줘"라고 다시 말하면 돼. 처음부터 다시 시작할 필요 없어.

그리고 Claude가 일하는 도중에 언제든 멈출 수 있어. 잘못된 방향으로 가고 있으면 바로 수정 사항을 입력하고 Enter를 누르면 돼. Claude가 멈추고 네 말을 바탕으로 방향을 바꿔줘.

### 처음부터 구체적으로 말하기

Claude한테 부탁할 때 **구체적으로** 말하면 훨씬 잘 해줘.

이렇게 말하면 애매해: "버그 좀 고쳐줘"

이렇게 말하면 정확해:

> 체크아웃에서 카드가 만료된 사용자한테 에러가 나.
> src/payments/ 폴더를 확인해줘, 특히 토큰 새로고침 부분.
> 먼저 실패하는 테스트를 작성하고, 그 다음에 수정해.

구체적으로 말할수록 Claude가 한 번에 제대로 해줄 확률이 높아져.

### 확인할 수 있는 것을 줘

Claude는 자기 작업을 **확인할 수 있을 때** 더 잘 해. 테스트 케이스를 알려주거나, 원하는 결과를 구체적으로 말해줘.

> validateEmail을 만들어줘. 테스트:
> 'user@example.com' → true,
> 'invalid' → false,
> 'user@.com' → false.
> 다 만들고 테스트 실행해줘.

눈으로 보는 작업이면 디자인 스크린샷을 붙여넣고 "이거랑 비교해줘"라고 하면 돼.

### 코딩 전에 먼저 탐색하기

복잡한 문제는 **조사와 코딩을 분리**하는 게 좋아. Plan Mode(`Shift+Tab` 두 번)를 쓰면 코드를 읽기만 하고 안 고쳐:

> src/auth/ 폴더를 읽고 세션을 어떻게 처리하는지 파악해줘.
> 그 다음 OAuth 지원을 추가하는 계획을 세워줘.

계획을 확인하고, 대화로 다듬은 다음에 Claude한테 실행시키면 돼. 바로 코딩에 뛰어드는 것보다 훨씬 좋은 결과가 나와.

### 지시하지 말고, 위임해

Claude한테는 "어떤 파일을 열어서 몇 번째 줄을 이렇게 바꿔"라고 할 필요 없어. 대신 **뭘 원하는지**만 말해:

> 체크아웃에서 카드 만료된 사용자한테 에러가 나. src/payments/에 있어. 조사하고 고쳐줘.

어떤 파일을 읽을지, 어떤 명령어를 실행할지는 Claude가 알아서 해. 잘하는 친구한테 일을 맡기듯이.

## 정리하면

- Claude Code는 터미널에서 작동하는 **코딩 도우미 AI**야
- **에이전트 루프**: 문맥 파악 → 작업 수행 → 결과 검증을 **반복**해서 일해
- **모델**: Sonnet(빠르고 똑똑), Opus(복잡한 문제용) 두뇌를 골라 쓸 수 있어
- **도구**: 파일 읽기/쓰기, 검색, 명령 실행, 웹 검색을 직접 할 수 있어
- **확장**: Skills, MCP, Hooks, Subagents로 능력을 키울 수 있어
- **프로젝트 전체**를 보기 때문에 여러 파일에 걸친 작업도 가능해
- **세션**은 저장되고, 이어가거나 분기할 수 있어
- **컨텍스트 윈도우**가 가득 차면 자동으로 정리해
- **체크포인트**로 실수를 되돌릴 수 있어
- **권한**으로 Claude가 할 수 있는 것을 제어해
- **CLAUDE.md**로 매번 같은 걸 반복하지 않아도 돼
- 대화하듯이 쓰고, **구체적이고, 확인 가능하고, 위임하듯이** 말하면 최고야

코딩을 배우고 싶은 친구들, Claude Code 같은 AI 도구를 쓰면 혼자서도 꽤 많은 걸 만들 수 있어. 마치 코딩 잘하는 형이 옆에서 도와주는 것처럼!
